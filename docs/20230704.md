# プレミアムフライデー
- 月末の金曜がPF
- 2017年2月24日から2017年末までの、PFの一覧を表示する
- sedコマンドとxargsコマンドを使ってdate -dの引数をつくり、日付と曜日を列挙する
```bash
seq 0 365 | xargs -I@ date '+%F %a' -d '2017-02-24 @day'
```
```bash
root@f72e630d0494:/shell/qdata/60# seq 0 365 | xargs -I@ date '+%F %a' -d '2017-02-24 @day'
2017-02-24 Fri
2017-02-25 Sat
2017-02-26 Sun
2017-02-27 Mon
2017-02-28 Tue
2017-03-01 Wed
2017-03-02 Thu
2017-03-03 Fri
2017-03-04 Sat
2017-03-05 Sun
2017-03-06 Mon
2017-03-07 Tue
2017-03-08 Wed
2017-03-09 Thu
2017-03-10 Fri
2017-03-11 Sat
2017-03-12 Sun
2017-03-13 Mon
2017-03-14 Tue
2017-03-15 Wed
2017-03-16 Thu
2017-03-17 Fri
2017-03-18 Sat
2017-03-19 Sun
2017-03-20 Mon
2017-03-21 Tue
2017-03-22 Wed
2017-03-23 Thu
2017-03-24 Fri
2017-03-25 Sat
2017-03-26 Sun
2017-03-27 Mon
2017-03-28 Tue
2017-03-29 Wed
2017-03-30 Thu
2017-03-31 Fri
2017-04-01 Sat
2017-04-02 Sun
2017-04-03 Mon
2017-04-04 Tue
2017-04-05 Wed
2017-04-06 Thu
2017-04-07 Fri
2017-04-08 Sat
2017-04-09 Sun
2017-04-10 Mon
2017-04-11 Tue
2017-04-12 Wed
2017-04-13 Thu
2017-04-14 Fri
2017-04-15 Sat
2017-04-16 Sun
2017-04-17 Mon
2017-04-18 Tue
2017-04-19 Wed
2017-04-20 Thu
2017-04-21 Fri
2017-04-22 Sat
2017-04-23 Sun
2017-04-24 Mon
2017-04-25 Tue
2017-04-26 Wed
2017-04-27 Thu
2017-04-28 Fri
2017-04-29 Sat
2017-04-30 Sun
2017-05-01 Mon
2017-05-02 Tue
2017-05-03 Wed
2017-05-04 Thu
2017-05-05 Fri
2017-05-06 Sat
2017-05-07 Sun
2017-05-08 Mon
2017-05-09 Tue
2017-05-10 Wed
2017-05-11 Thu
2017-05-12 Fri
2017-05-13 Sat
2017-05-14 Sun
2017-05-15 Mon
2017-05-16 Tue
2017-05-17 Wed
2017-05-18 Thu
2017-05-19 Fri
2017-05-20 Sat
2017-05-21 Sun
2017-05-22 Mon
2017-05-23 Tue
2017-05-24 Wed
2017-05-25 Thu
2017-05-26 Fri
2017-05-27 Sat
2017-05-28 Sun
2017-05-29 Mon
2017-05-30 Tue
2017-05-31 Wed
2017-06-01 Thu
2017-06-02 Fri
2017-06-03 Sat
2017-06-04 Sun
2017-06-05 Mon
2017-06-06 Tue
2017-06-07 Wed
2017-06-08 Thu
2017-06-09 Fri
2017-06-10 Sat
2017-06-11 Sun
2017-06-12 Mon
2017-06-13 Tue
2017-06-14 Wed
2017-06-15 Thu
2017-06-16 Fri
2017-06-17 Sat
2017-06-18 Sun
2017-06-19 Mon
2017-06-20 Tue
2017-06-21 Wed
2017-06-22 Thu
2017-06-23 Fri
2017-06-24 Sat
2017-06-25 Sun
2017-06-26 Mon
2017-06-27 Tue
2017-06-28 Wed
2017-06-29 Thu
2017-06-30 Fri
2017-07-01 Sat
2017-07-02 Sun
2017-07-03 Mon
2017-07-04 Tue
2017-07-05 Wed
2017-07-06 Thu
2017-07-07 Fri
2017-07-08 Sat
2017-07-09 Sun
2017-07-10 Mon
2017-07-11 Tue
2017-07-12 Wed
2017-07-13 Thu
2017-07-14 Fri
2017-07-15 Sat
2017-07-16 Sun
2017-07-17 Mon
2017-07-18 Tue
2017-07-19 Wed
2017-07-20 Thu
2017-07-21 Fri
2017-07-22 Sat
2017-07-23 Sun
2017-07-24 Mon
2017-07-25 Tue
2017-07-26 Wed
2017-07-27 Thu
2017-07-28 Fri
2017-07-29 Sat
2017-07-30 Sun
2017-07-31 Mon
2017-08-01 Tue
2017-08-02 Wed
2017-08-03 Thu
2017-08-04 Fri
2017-08-05 Sat
2017-08-06 Sun
2017-08-07 Mon
2017-08-08 Tue
2017-08-09 Wed
2017-08-10 Thu
2017-08-11 Fri
2017-08-12 Sat
2017-08-13 Sun
2017-08-14 Mon
2017-08-15 Tue
2017-08-16 Wed
2017-08-17 Thu
2017-08-18 Fri
2017-08-19 Sat
2017-08-20 Sun
2017-08-21 Mon
2017-08-22 Tue
2017-08-23 Wed
2017-08-24 Thu
2017-08-25 Fri
2017-08-26 Sat
2017-08-27 Sun
2017-08-28 Mon
2017-08-29 Tue
2017-08-30 Wed
2017-08-31 Thu
2017-09-01 Fri
2017-09-02 Sat
2017-09-03 Sun
2017-09-04 Mon
2017-09-05 Tue
2017-09-06 Wed
2017-09-07 Thu
2017-09-08 Fri
2017-09-09 Sat
2017-09-10 Sun
2017-09-11 Mon
2017-09-12 Tue
2017-09-13 Wed
2017-09-14 Thu
2017-09-15 Fri
2017-09-16 Sat
2017-09-17 Sun
2017-09-18 Mon
2017-09-19 Tue
2017-09-20 Wed
2017-09-21 Thu
2017-09-22 Fri
2017-09-23 Sat
2017-09-24 Sun
2017-09-25 Mon
2017-09-26 Tue
2017-09-27 Wed
2017-09-28 Thu
2017-09-29 Fri
2017-09-30 Sat
2017-10-01 Sun
2017-10-02 Mon
2017-10-03 Tue
2017-10-04 Wed
2017-10-05 Thu
2017-10-06 Fri
2017-10-07 Sat
2017-10-08 Sun
2017-10-09 Mon
2017-10-10 Tue
2017-10-11 Wed
2017-10-12 Thu
2017-10-13 Fri
2017-10-14 Sat
2017-10-15 Sun
2017-10-16 Mon
2017-10-17 Tue
2017-10-18 Wed
2017-10-19 Thu
2017-10-20 Fri
2017-10-21 Sat
2017-10-22 Sun
2017-10-23 Mon
2017-10-24 Tue
2017-10-25 Wed
2017-10-26 Thu
2017-10-27 Fri
2017-10-28 Sat
2017-10-29 Sun
2017-10-30 Mon
2017-10-31 Tue
2017-11-01 Wed
2017-11-02 Thu
2017-11-03 Fri
2017-11-04 Sat
2017-11-05 Sun
2017-11-06 Mon
2017-11-07 Tue
2017-11-08 Wed
2017-11-09 Thu
2017-11-10 Fri
2017-11-11 Sat
2017-11-12 Sun
2017-11-13 Mon
2017-11-14 Tue
2017-11-15 Wed
2017-11-16 Thu
2017-11-17 Fri
2017-11-18 Sat
2017-11-19 Sun
2017-11-20 Mon
2017-11-21 Tue
2017-11-22 Wed
2017-11-23 Thu
2017-11-24 Fri
2017-11-25 Sat
2017-11-26 Sun
2017-11-27 Mon
2017-11-28 Tue
2017-11-29 Wed
2017-11-30 Thu
2017-12-01 Fri
2017-12-02 Sat
2017-12-03 Sun
2017-12-04 Mon
2017-12-05 Tue
2017-12-06 Wed
2017-12-07 Thu
2017-12-08 Fri
2017-12-09 Sat
2017-12-10 Sun
2017-12-11 Mon
2017-12-12 Tue
2017-12-13 Wed
2017-12-14 Thu
2017-12-15 Fri
2017-12-16 Sat
2017-12-17 Sun
2017-12-18 Mon
2017-12-19 Tue
2017-12-20 Wed
2017-12-21 Thu
2017-12-22 Fri
2017-12-23 Sat
2017-12-24 Sun
2017-12-25 Mon
2017-12-26 Tue
2017-12-27 Wed
2017-12-28 Thu
2017-12-29 Fri
2017-12-30 Sat
2017-12-31 Sun
2018-01-01 Mon
2018-01-02 Tue
2018-01-03 Wed
2018-01-04 Thu
2018-01-05 Fri
2018-01-06 Sat
2018-01-07 Sun
2018-01-08 Mon
2018-01-09 Tue
2018-01-10 Wed
2018-01-11 Thu
2018-01-12 Fri
2018-01-13 Sat
2018-01-14 Sun
2018-01-15 Mon
2018-01-16 Tue
2018-01-17 Wed
2018-01-18 Thu
2018-01-19 Fri
2018-01-20 Sat
2018-01-21 Sun
2018-01-22 Mon
2018-01-23 Tue
2018-01-24 Wed
2018-01-25 Thu
2018-01-26 Fri
2018-01-27 Sat
2018-01-28 Sun
2018-01-29 Mon
2018-01-30 Tue
2018-01-31 Wed
2018-02-01 Thu
2018-02-02 Fri
2018-02-03 Sat
2018-02-04 Sun
2018-02-05 Mon
2018-02-06 Tue
2018-02-07 Wed
2018-02-08 Thu
2018-02-09 Fri
2018-02-10 Sat
2018-02-11 Sun
2018-02-12 Mon
2018-02-13 Tue
2018-02-14 Wed
2018-02-15 Thu
2018-02-16 Fri
2018-02-17 Sat
2018-02-18 Sun
2018-02-19 Mon
2018-02-20 Tue
2018-02-21 Wed
2018-02-22 Thu
2018-02-23 Fri
2018-02-24 Sat
```
- 引数の%Fという記号は`%Y-%m-%d`と同じ意味
- %aは曜日を表す
- 2017年と金曜日だけを抽出する
```bash

seq 0 365 |
    xargs -I@ date '+%F %a' -d '2017-02-24 @day' |
    grep ^2017 |
    grep 'Fri'
```
- 月までの内容(先頭から7文字)が重複するレコードについて重複を除去し、一番あとに出現するレコードだけ残せば抽出できる
```bash
seq 0 365 |
    xargs -I@ date '+%F %a' -d '2017-02-24 @day' |
    grep ^2017 |
    grep Fri |
    tac |
    uniq -w7 |
    tac
```
- tacで後の日付が先に出力されるようにレコードの並びを反転させて、`uniq -w7`で各行7文字目までを調査し、全行と異なる場合だけ出力する

- dateutils.droundを使った別解
```bash
printf '2017-%02d-01\n' {2..12} |
    dateutils.dround -- +31d -Fri
```
```bash
root@f72e630d0494:/shell/qdata/60# printf '2017-%02d-01\n' {2..12} |
    dateutils.dround -- +31d -Fri
# 2017-02-24
# 2017-03-31
# 2017-04-28
# 2017-05-26
# 2017-06-30
# 2017-07-28
# 2017-08-25
# 2017-09-29
# 2017-10-27
# 2017-11-24
# 2017-12-29
```
- 最初のprintfで、各月の最初の日(1日)を列挙する
- dateutils.droundで、各月の最初の日から31日後の金曜日を出力する
